= (% id="H3" %)ğŸ”Œ 3. API ë ˆí¼ëŸ°ìŠ¤ =

{{panel title="**âœ¨ ì´ ì„¹ì…˜ì—ì„œ ë°°ìš¸ ë‚´ìš©**"}}
* â˜‘ï¸ 15ê°œ REST API ì—”ë“œí¬ì¸íŠ¸ ì „ì²´ ìŠ¤í™
* â˜‘ï¸ Python SDK ë° Shell ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì œ
* â˜‘ï¸ FortiGate ë°©í™”ë²½ ì—°ë™ API
* â˜‘ï¸ í—¬ìŠ¤ì²´í¬ ë° í†µê³„ API
{{/panel}}

---

== 1ï¸âƒ£ API ê°œìš” ==

{{info}}
**ğŸ”— API ê¸°ë³¸ ì •ë³´**
* **Base URL**: {{code}}http://{ì„œë²„IP}:2542{{/code}} (ë‚´ë¶€), {{code}}https://blacklist.nxtd.co.kr{{/code}} (ì™¸ë¶€)
* **í”„ë¡œí† ì½œ**: HTTP/1.1
* **ë°ì´í„° í˜•ì‹**: JSON (UTF-8)
* **ì¸ì¦**: (í˜„ì¬ ë²„ì „: ì¸ì¦ ì—†ìŒ, ë‚´ë¶€ë§ ì „ìš©)
* **ë²„ì „**: 3.3.7
{{/info}}

---

== 2ï¸âƒ£ í—¬ìŠ¤ì²´í¬ ==

{{success}}
**ğŸ’š ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸**: ì„œë¹„ìŠ¤ ê°€ìš©ì„± ë° ì˜ì¡´ì„± ì²´í¬
{{/success}}

{{code}}
GET /health
{{/code}}

**ì‘ë‹µ ì˜ˆì‹œ (ì •ìƒ):**

{{code language="json"}}
{
  "status": "healthy",              // âœ… ì‹œìŠ¤í…œ ìƒíƒœ
  "timestamp": "2025-10-29T10:30:00Z",
  "version": "3.3.7",
  "dependencies": {
    "postgres": "healthy",          // ğŸ˜ DB ì—°ê²°
    "redis": "healthy"              // ğŸ”´ ìºì‹œ ì—°ê²°
  }
}
{{/code}}

**ì‘ë‹µ ì˜ˆì‹œ (ì¥ì• ):**

{{code language="json"}}
{
  "status": "degraded",             // âš ï¸  ë¶€ë¶„ ì¥ì• 
  "timestamp": "2025-10-29T10:35:00Z",
  "version": "3.3.7",
  "dependencies": {
    "postgres": "unhealthy",        // âŒ DB ì—°ê²° ì‹¤íŒ¨
    "redis": "healthy"
  }
}
{{/code}}

(% class="wikitable" %)
|=(% style="background:#4CAF50; color:white;" %)ìƒíƒœ ì½”ë“œ|=(% style="background:#4CAF50; color:white;" %)ì˜ë¯¸|=(% style="background:#4CAF50; color:white;" %)ì¡°ì¹˜
|**200 OK**|âœ… ëª¨ë“  ì‹œìŠ¤í…œ ì •ìƒ|ì •ìƒ ìš´ì˜
|**503 Service Unavailable**|âŒ ì˜ì¡´ì„± ì¥ì• |ì¦‰ì‹œ ëŒ€ì‘ í•„ìš”

---

== 3ï¸âƒ£ ë¸”ë™ë¦¬ìŠ¤íŠ¸ API ==

=== 3.1 ğŸ” IP ì²´í¬ (í•µì‹¬ API) ===

{{panel title="**âš¡ ìµœë‹¤ í˜¸ì¶œ API - í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ìš°ì„  ì²´í¬**"}}
ì´ APIëŠ” **í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì²´í¬**í•˜ì—¬ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì„ ë³´í˜¸í•©ë‹ˆë‹¤
{{/panel}}

**GET ë°©ì‹:**

{{code}}
GET /api/blacklist/check?ip={ip_address}
{{/code}}

**POST ë°©ì‹:**

{{code}}
POST /api/blacklist/check
Content-Type: application/json

{
  "ip": "1.2.3.4"
}
{{/code}}

**ì‘ë‹µ íŒ¨í„´:**

**â‘  í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ (í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸):**

{{code language="json"}}
{
  "blocked": false,
  "reason": "whitelist",
  "ip": "192.168.1.100",
  "metadata": {
    "source": "whitelist_ips",
    "added_at": "2025-10-01"
  }
}
{{/code}}

**â‘¡ ë¸”ë™ë¦¬ìŠ¤íŠ¸ (ìœ„í˜‘ IP):**

{{code language="json"}}
{
  "blocked": true,
  "reason": "ì•…ì„± ìŠ¤ìº” í™œë™ íƒì§€",
  "ip": "1.2.3.4",
  "metadata": {
    "country": "CN",
    "detection_date": "2025-10-01",
    "source": "REGTECH"
  }
}
{{/code}}

**â‘¢ ì •ìƒ IP (ëª©ë¡ì— ì—†ìŒ):**

{{code language="json"}}
{
  "blocked": false,
  "reason": "not_in_blacklist",
  "ip": "8.8.8.8"
}
{{/code}}

=== 3.2 â• ìˆ˜ë™ ì¶”ê°€ ===

{{code}}
POST /api/blacklist/manual-add
Content-Type: application/json

{
  "ip_address": "1.2.3.4",
  "country": "CN",
  "reason": "ê³µê²© ì‹œë„ íƒì§€"
}
{{/code}}

**ì‘ë‹µ:**

{{code language="json"}}
{
  "success": true,
  "message": "IP 1.2.3.4ê°€ ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤"
}
{{/code}}

---

== 4ï¸âƒ£ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ API ==

{{success}}
**ğŸ¥‡ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë³´í˜¸**: ì´ ëª©ë¡ì˜ IPëŠ” ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— ìˆì–´ë„ ì°¨ë‹¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤
{{/success}}

=== 4.1 â• í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ IP ì¶”ê°€ ===

{{code}}
POST /api/whitelist/manual-add
Content-Type: application/json

{
  "ip_address": "192.168.1.100",
  "country": "KR",
  "reason": "í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì‚¬"
}
{{/code}}

=== 4.2 ğŸ“‹ ëª©ë¡ ì¡°íšŒ ===

{{code}}
GET /api/whitelist/list?page=1&per_page=50
{{/code}}

**ì‘ë‹µ:**

{{code language="json"}}
{
  "success": true,
  "data": {
    "items": [
      {
        "ip_address": "192.168.1.100",
        "country": "KR",
        "reason": "í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì‚¬",
        "created_at": "2025-10-01T09:00:00Z",
        "is_active": true
      }
    ],
    "total": 42,
    "page": 1,
    "per_page": 50
  }
}
{{/code}}

---

== 5ï¸âƒ£ ì¸ì¦ì •ë³´ ê´€ë¦¬ API ==

{{success}}
**ğŸ” ë³´ì•ˆ ìš°ì„ **: ì¸ì¦ì •ë³´ëŠ” UIë¥¼ í†µí•´ ì•”í˜¸í™”í•˜ì—¬ ì €ì¥í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤
{{/success}}

=== 5.1 ğŸ’¾ ì¸ì¦ì •ë³´ ì €ì¥ (Collection Panel API - ì•”í˜¸í™”) ===

{{code}}
POST /collection-panel/api/save-credentials
Content-Type: application/json

{
  "regtech_username": "ë ˆê·¸í…Œí¬_ì•„ì´ë””",
  "regtech_password": "ë ˆê·¸í…Œí¬_ë¹„ë°€ë²ˆí˜¸",
  "secudium_username": "ì„¸íë””ì›€_ì•„ì´ë””",
  "secudium_password": "ì„¸íë””ì›€_ë¹„ë°€ë²ˆí˜¸"
}
{{/code}}

**ì‘ë‹µ:**

{{code language="json"}}
{
  "success": true,
  "message": "ì¸ì¦ì •ë³´ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤"
}
{{/code}}

**íŠ¹ì§•:**
* âœ… `secure_credential_service` ì‚¬ìš© (AES ì•”í˜¸í™”)
* âœ… ì¸ì¦ì •ë³´ ì„¤ì • ì‹œ ìë™ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹œì‘
* âœ… `collection_credentials` í…Œì´ë¸”ì— ì•”í˜¸í™” ì €ì¥

=== 5.2 ğŸ“¥ ì¸ì¦ì •ë³´ ë¡œë“œ (ë³µí˜¸í™”) ===

{{code}}
GET /collection-panel/api/load-credentials
{{/code}}

**ì‘ë‹µ:**

{{code language="json"}}
{
  "success": true,
  "credentials": {
    "regtech_username": "ë ˆê·¸í…Œí¬_ì•„ì´ë””",
    "regtech_password": "ë ˆê·¸í…Œí¬_ë¹„ë°€ë²ˆí˜¸",
    "secudium_username": "ì„¸íë””ì›€_ì•„ì´ë””",
    "secudium_password": "ì„¸íë””ì›€_ë¹„ë°€ë²ˆí˜¸"
  }
}
{{/code}}

**íŠ¹ì§•:**
* âœ… ì•”í˜¸í™”ëœ ë°ì´í„° ìë™ ë³µí˜¸í™”
* âœ… íŒ¨ìŠ¤ì›Œë“œ ë§ˆìŠ¤í‚¹ ì—†ìŒ (UIì—ì„œ ë§ˆìŠ¤í‚¹ ì²˜ë¦¬)

=== 5.3 ğŸ“‹ ëª¨ë“  ì¸ì¦ì •ë³´ ì¡°íšŒ (Settings API) ===

{{code}}
GET /settings/api/credentials
{{/code}}

**ì‘ë‹µ:**

{{code language="json"}}
{
  "success": true,
  "count": 2,
  "credentials": [
    {
      "service_name": "REGTECH",
      "username": "ë ˆê·¸í…Œí¬_ì•„ì´ë””",
      "password": "********",
      "is_active": true,
      "created_at": "2025-10-22T10:00:00",
      "config": {
        "base_url": "https://regtech.fsec.or.kr"
      }
    },
    {
      "service_name": "SECUDIUM",
      "username": "ì„¸íë””ì›€_ì•„ì´ë””",
      "password": "********",
      "is_active": true
    }
  ]
}
{{/code}}

**ë³´ì•ˆ:**
* âœ… íŒ¨ìŠ¤ì›Œë“œëŠ” í•­ìƒ `********`ë¡œ ë§ˆìŠ¤í‚¹

=== 5.4 ğŸ”„ ì¸ì¦ì •ë³´ ì—…ë°ì´íŠ¸ ===

{{code}}
PUT /settings/api/credentials/<service_name>
Content-Type: application/json

{
  "username": "ìƒˆ_ì•„ì´ë””",
  "password": "ìƒˆ_ë¹„ë°€ë²ˆí˜¸",
  "is_active": true
}
{{/code}}

**ì‘ë‹µ:**

{{code language="json"}}
{
  "success": true,
  "service_name": "REGTECH",
  "message": "Credentials updated successfully"
}
{{/code}}

{{info}}
**UI ì ‘ê·¼ ë°©ë²•**:
* **Collection Panel**: https://blacklist.nxtd.co.kr/collection-panel (ê¶Œì¥)
* **Settings UI**: https://blacklist.nxtd.co.kr/settings
{{/info}}

---

== 6ï¸âƒ£ ë°ì´í„° ìˆ˜ì§‘ API ==

=== 6.1 ğŸ“Š ìˆ˜ì§‘ ìƒíƒœ ===

{{code}}
GET /api/collection/status
{{/code}}

**ì‘ë‹µ:**

{{code language="json"}}
{
  "success": true,
  "data": {
    "service": "REGTECH",
    "last_collection": {
      "timestamp": "2025-10-14T09:00:00+09:00",
      "items_collected": 99784,
      "duration_seconds": 248,
      "success": true
    },
    "next_scheduled": "2025-10-14T10:00:00+09:00"
  }
}
{{/code}}

=== 6.2 ğŸ”„ ìˆ˜ë™ ìˆ˜ì§‘ íŠ¸ë¦¬ê±° ===

{{warning}}
**âš ï¸ ì£¼ì˜**: ì´ APIëŠ” ì¦‰ì‹œ ìˆ˜ì§‘ì„ ì‹œì‘í•©ë‹ˆë‹¤. ì´ì „ ìˆ˜ì§‘ì´ ì™„ë£Œëœ í›„ í˜¸ì¶œí•˜ì„¸ìš”.
{{/warning}}

{{code}}
POST /api/collection/regtech/trigger
{{/code}}

**ì‘ë‹µ (ì¦‰ì‹œ):**

{{code language="json"}}
{
  "success": true,
  "message": "REGTECH ìˆ˜ì§‘ì´ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤",
  "job_id": "collection-20251014-090000"
}
{{/code}}

---

== 7ï¸âƒ£ í†µê³„ API ==

{{code}}
GET /api/stats
{{/code}}

**ì‘ë‹µ:**

{{code language="json"}}
{
  "success": true,
  "data": {
    "blacklist": {
      "total_ips": 99784,
      "active_ips": 87234,
      "by_country": {
        "CN": 45234,
        "RU": 18765,
        "US": 12456,
        "KR": 5678
      }
    },
    "whitelist": {
      "total_ips": 42,
      "by_country": {
        "KR": 38,
        "US": 4
      }
    },
    "checks_today": {
      "total": 1523456,
      "blocked": 12345,
      "whitelist_hits": 12346,
      "allowed": 1498765
    }
  }
}
{{/code}}

---

== 8ï¸âƒ£ FortiGate ì—°ë™ ==

{{panel title="**ğŸ”’ ë°©í™”ë²½ ìë™ ì—°ë™**"}}
FortiGate ë°©í™”ë²½ì—ì„œ ì´ APIë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ í˜¸ì¶œí•˜ì—¬ ë¸”ë™ë¦¬ìŠ¤íŠ¸ë¥¼ ìë™ ë™ê¸°í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
{{/panel}}

=== 8.1 ğŸ“‹ í™œì„± IP ëª©ë¡ ===

{{code}}
GET /api/fortinet/active-ips
{{/code}}

**ì‘ë‹µ:**

{{code language="json"}}
{
  "success": true,
  "data": {
    "ips": [
      "1.2.3.4",
      "5.6.7.8",
      "9.10.11.12"
    ],
    "total": 87234,
    "last_updated": "2025-10-14T09:00:00Z"
  }
}
{{/code}}

=== 8.2 ğŸ›¡ï¸  FortiGate í˜•ì‹ ì¶œë ¥ ===

{{code}}
GET /api/fortinet/blocklist
{{/code}}

**ì‘ë‹µ (FortiGate ì „ìš© í˜•ì‹):**

{{code language="text"}}
config firewall address
    edit "blacklist-1.2.3.4"
        set subnet 1.2.3.4/32
        set comment "REGTECH-CN-2025-10-01"
    next
    edit "blacklist-5.6.7.8"
        set subnet 5.6.7.8/32
        set comment "REGTECH-RU-2025-10-02"
    next
end
{{/code}}

=== 8.3 ğŸ“Š ì‹¤ì‹œê°„ ì„¸ì…˜ ëª¨ë‹ˆí„°ë§ (NEW v3.3.6) ===

{{success}}
**ğŸ” í™œì„± ìœ„í˜‘ ì„¸ì…˜**: ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ì§€ëœ ìœ„í˜‘ IPì˜ ì„¸ì…˜ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤
{{/success}}

{{code}}
GET /api/fortinet/active-sessions?limit=50&hours=24
{{/code}}

**Query Parameters:**
* `limit`: ë°˜í™˜í•  ì„¸ì…˜ ìˆ˜ (ê¸°ë³¸: 50, ìµœëŒ€: 500)
* `hours`: ì‹œê°„ ë²”ìœ„ (ê¸°ë³¸: 24ì‹œê°„)

**ì‘ë‹µ:**

{{code language="json"}}
{
  "success": true,
  "data": [
    {
      "id": 1,
      "ip_address": "1.2.3.4",
      "country": "CN",
      "session_status": "active",
      "active_hours": 2.5,
      "confidence_level": 95,
      "detection_date": "2025-10-29T14:30:00Z",
      "reason": "Port scanning activity"
    }
  ],
  "stats": {
    "total_sessions": 150,
    "active_count": 45,
    "last_hour": 12,
    "last_24h": 45,
    "unique_countries": 23
  }
}
{{/code}}

**ì‚¬ìš© ì‚¬ë¡€:**
* ì‹¤ì‹œê°„ ìœ„í˜‘ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
* FortiGate ì„¸ì…˜ í…Œì´ë¸” ë™ê¸°í™”
* ìë™í™”ëœ ìœ„í˜‘ ëŒ€ì‘ íŠ¸ë¦¬ê±°

---

== 9ï¸âƒ£ Python SDK ==

{{success}}
**ğŸ Python í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬**: ì†ì‰¬ìš´ API í˜¸ì¶œ
{{/success}}

{{code language="python"}}
import requests
from typing import Dict, Optional

class BlacklistClient:
    """Blacklist Management System API í´ë¼ì´ì–¸íŠ¸"""

    def __init__(self, base_url: str):
        """
        Args:
            base_url: API ì„œë²„ ì£¼ì†Œ (ì˜ˆ: http://192.168.1.100:2542)
        """
        self.base_url = base_url.rstrip('/')

    def check_ip(self, ip: str) -> Dict:
        """
        IP ì°¨ë‹¨ ì—¬ë¶€ í™•ì¸ (í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ìš°ì„ )

        Args:
            ip: í™•ì¸í•  IP ì£¼ì†Œ

        Returns:
            {"blocked": bool, "reason": str, ...}
        """
        response = requests.get(
            f"{self.base_url}/api/blacklist/check",
            params={"ip": ip},
            timeout=5
        )
        response.raise_for_status()
        return response.json()

    def add_whitelist(self, ip: str, reason: str, country: Optional[str] = None) -> Dict:
        """
        í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì— í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ IP ì¶”ê°€

        Args:
            ip: IP ì£¼ì†Œ
            reason: ë“±ë¡ ì‚¬ìœ 
            country: êµ­ê°€ ì½”ë“œ (ì˜ˆ: KR)

        Returns:
            {"success": bool, "message": str}
        """
        data = {"ip_address": ip, "reason": reason}
        if country:
            data["country"] = country

        response = requests.post(
            f"{self.base_url}/api/whitelist/manual-add",
            json=data,
            timeout=5
        )
        response.raise_for_status()
        return response.json()

    def add_blacklist(self, ip: str, reason: str, country: Optional[str] = None) -> Dict:
        """ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— ìœ„í˜‘ IP ì¶”ê°€"""
        data = {"ip_address": ip, "reason": reason}
        if country:
            data["country"] = country

        response = requests.post(
            f"{self.base_url}/api/blacklist/manual-add",
            json=data,
            timeout=5
        )
        response.raise_for_status()
        return response.json()

    def get_stats(self) -> Dict:
        """ì „ì²´ í†µê³„ ì¡°íšŒ"""
        response = requests.get(
            f"{self.base_url}/api/stats",
            timeout=5
        )
        response.raise_for_status()
        return response.json()


# ì‚¬ìš© ì˜ˆì‹œ
if __name__ == "__main__":
    # í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”
    client = BlacklistClient("http://192.168.1.100:2542")

    # IP ì²´í¬
    result = client.check_ip("1.2.3.4")
    if result["blocked"]:
        print(f"â›” ì°¨ë‹¨: {result['reason']}")
    else:
        print(f"âœ… í—ˆìš©: {result['reason']}")

    # í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì¶”ê°€
    client.add_whitelist("192.168.1.100", "í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì‚¬", "KR")

    # í†µê³„ ì¡°íšŒ
    stats = client.get_stats()
    print(f"ğŸ“Š ë¸”ë™ë¦¬ìŠ¤íŠ¸: {stats['data']['blacklist']['total_ips']:,}ê°œ")
{{/code}}

---

== ğŸ”Ÿ Shell ìŠ¤í¬ë¦½íŠ¸ ==

{{code language="bash"}}
#!/bin/bash
# blacklist-cli.sh - Blacklist Management CLI

SERVER="http://192.168.1.100:2542"

# ğŸ” IP ì²´í¬
check_ip() {
    local ip=$1
    echo "ğŸ” IP ì²´í¬: $ip"
    curl -s "$SERVER/api/blacklist/check?ip=$ip" | jq
}

# â• í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì¶”ê°€
add_whitelist() {
    local ip=$1
    local reason=$2
    echo "â• í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì¶”ê°€: $ip"
    curl -s -X POST "$SERVER/api/whitelist/manual-add" \
        -H "Content-Type: application/json" \
        -d "{\"ip_address\": \"$ip\", \"reason\": \"$reason\"}" | jq
}

# ğŸ“Š í†µê³„ ì¡°íšŒ
show_stats() {
    echo "ğŸ“Š ì‹œìŠ¤í…œ í†µê³„"
    curl -s "$SERVER/api/stats" | jq '.data'
}

# ğŸ’š í—¬ìŠ¤ì²´í¬
health_check() {
    echo "ğŸ’š í—¬ìŠ¤ì²´í¬"
    curl -s "$SERVER/health" | jq
}

# ë©”ì¸ ë¡œì§
case "$1" in
    check)
        check_ip "$2"
        ;;
    add-whitelist)
        add_whitelist "$2" "$3"
        ;;
    stats)
        show_stats
        ;;
    health)
        health_check
        ;;
    *)
        echo "ì‚¬ìš©ë²•: $0 {check|add-whitelist|stats|health} [args]"
        echo "ì˜ˆì‹œ:"
        echo "  $0 check 1.2.3.4"
        echo "  $0 add-whitelist 192.168.1.100 'í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸'"
        echo "  $0 stats"
        echo "  $0 health"
        exit 1
        ;;
esac
{{/code}}

**ì‚¬ìš© ì˜ˆì‹œ:**

{{code language="bash"}}
# ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
chmod +x blacklist-cli.sh

# IP ì²´í¬
./blacklist-cli.sh check 1.2.3.4

# í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì¶”ê°€
./blacklist-cli.sh add-whitelist 192.168.1.100 "í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì‚¬"

# í†µê³„ ì¡°íšŒ
./blacklist-cli.sh stats

# í—¬ìŠ¤ì²´í¬
./blacklist-cli.sh health
{{/code}}

---

== 1ï¸âƒ£1ï¸âƒ£ ì›¹ í˜ì´ì§€ ì—”ë“œí¬ì¸íŠ¸ (NEW v3.3.6) ==

{{success}}
**ğŸŒ ê´€ë¦¬ ì›¹ ì¸í„°í˜ì´ìŠ¤**: ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ì ‘ê·¼ ê°€ëŠ¥í•œ ê´€ë¦¬ í˜ì´ì§€
{{/success}}

=== 11.1 ğŸ”Œ FortiGate/FortiManager í†µí•© ê´€ë¦¬ ===

{{code}}
GET /integrations
{{/code}}

**ê¸°ëŠ¥:**
* âœ… 8ê°œ FortiGate API ì—”ë“œí¬ì¸íŠ¸ ë¬¸ì„œí™” ë° ì‹¤ì‹œê°„ í…ŒìŠ¤íŠ¸
* âœ… FortiManager ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ê°€ì´ë“œ
* âœ… ë³µì‚¬-ë¶™ì—¬ë„£ê¸° ê¸°ëŠ¥ (í´ë¦½ë³´ë“œ)
* âœ… ì¸ë¼ì¸ API í…ŒìŠ¤íŠ¸ (ì‹¤ì‹œê°„ ì‘ë‹µ í™•ì¸)
* âœ… ê° ì—”ë“œí¬ì¸íŠ¸ë³„ ì‘ë‹µ ì˜ˆì‹œ ì œê³µ

**ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸:**
1. `/api/fortinet/active-ips` - í™œì„± IP ëª©ë¡
2. `/api/fortinet/blocklist` - FortiGate í˜•ì‹ ì°¨ë‹¨ ëª©ë¡
3. `/api/fortinet/threat-feed` - Push API JSON í˜•ì‹
4. `/api/fortinet/json-connector` - ê°•í™”ëœ ìœ„í˜‘ ì¸í…”ë¦¬ì „ìŠ¤
5. `/api/fortinet/active-sessions` - ì‹¤ì‹œê°„ ì„¸ì…˜ ëª¨ë‹ˆí„°ë§
6. `/api/fortinet/config` - í†µí•© ì„¤ì •
7. `/api/fortinet/health` - í—¬ìŠ¤ì²´í¬
8. `/api/fortinet/stats` - í†µê³„

=== 11.2 ğŸ“Š ì„¸ì…˜ íˆìŠ¤í† ë¦¬ ê´€ë¦¬ ===

{{code}}
GET /sessions
{{/code}}

**ê¸°ëŠ¥:**
* âœ… ì‹¤ì‹œê°„ í†µê³„ (í™œì„±, ìµœê·¼ 1ì‹œê°„, 24ì‹œê°„, ê³ ìœ  êµ­ê°€ ìˆ˜)
* âœ… ë‹¤ì¤‘ í•„í„° ì‹œìŠ¤í…œ (ì‹œê°„ ë²”ìœ„, ìƒíƒœ, ìœ„í—˜ë„, êµ­ê°€)
* âœ… 30ì´ˆë§ˆë‹¤ ìë™ ìƒˆë¡œê³ ì¹¨
* âœ… CSV ë‚´ë³´ë‚´ê¸°
* âœ… ì„¸ì…˜ ìƒì„¸ ì •ë³´ ëª¨ë‹¬
* âœ… IP ì°¨ë‹¨/í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì¶”ê°€ ì•¡ì…˜

**í•„í„° ì˜µì…˜:**
* ì‹œê°„ ë²”ìœ„: 1ì‹œê°„, 24ì‹œê°„, 7ì¼, 30ì¼, ì „ì²´
* ì„¸ì…˜ ìƒíƒœ: ì „ì²´, í™œì„±, ë¹„í™œì„±
* ìœ„í—˜ë„: ì „ì²´, ë†’ìŒ, ì¤‘ê°„, ë‚®ìŒ
* êµ­ê°€: ì „ì²´, ë˜ëŠ” íŠ¹ì • êµ­ê°€ ì„ íƒ

=== 11.3 ğŸ“ ìˆ˜ì§‘ ë¡œê·¸ ë·°ì–´ ===

{{code}}
GET /collection-logs
{{/code}}

**ê¸°ëŠ¥:**
* âœ… REGTECH ë° SECUDIUM ìˆ˜ì§‘ ë¡œê·¸ ì‹¤ì‹œê°„ í™•ì¸
* âœ… ë¡œê·¸ ë ˆë²¨ë³„ ë¶„ë¥˜ (success/error/warning/info)
* âœ… ìë™ ìƒˆë¡œê³ ì¹¨ í† ê¸€ (ì¹´ìš´íŠ¸ë‹¤ìš´ íƒ€ì´ë¨¸)
* âœ… í™•ì¥ ê°€ëŠ¥í•œ ë¡œê·¸ ìƒì„¸ ì •ë³´
* âœ… CSV ë‚´ë³´ë‚´ê¸°
* âœ… ë‘ ì†ŒìŠ¤ ëª¨ë‘ ì‹¤ì‹œê°„ ìˆ˜ì§‘ ìƒíƒœ í‘œì‹œ

**ë¡œê·¸ ìœ í˜•:**
* **Success**: ì„±ê³µì ì¸ ìˆ˜ì§‘ ì™„ë£Œ
* **Error**: ìˆ˜ì§‘ ì‹¤íŒ¨ ë˜ëŠ” ì˜¤ë¥˜
* **Warning**: ê²½ê³  (ë¶€ë¶„ ì„±ê³µ ë“±)
* **Info**: ì •ë³´ì„± ë©”ì‹œì§€

**ìˆ˜ì§‘ ì†ŒìŠ¤:**
1. REGTECH (regtech.fsec.or.kr)
2. SECUDIUM (www.secudium.com)

{{info}}
**ğŸ’¡ ì ‘ê·¼ ë°©ë²•**:
* **Base URL**: https://blacklist.nxtd.co.kr
* **í†µí•© í˜ì´ì§€**: https://blacklist.nxtd.co.kr/integrations
* **ì„¸ì…˜ ê´€ë¦¬**: https://blacklist.nxtd.co.kr/sessions
* **ìˆ˜ì§‘ ë¡œê·¸**: https://blacklist.nxtd.co.kr/collection-logs
{{/info}}

---


//ì‘ì„±: ì •ë³´ë³´ì•ˆíŒ€//

----

== ğŸ’¬ Discussion ==

{{info}}
ì´ ë¬¸ì„œì— ëŒ€í•œ ì§ˆë¬¸ì´ë‚˜ í”¼ë“œë°±ì´ ìˆìœ¼ì‹œë©´ ì•„ë˜ì— ëŒ“ê¸€ë¡œ ë‚¨ê²¨ì£¼ì„¸ìš”.
{{/info}}

{{comment}}
ëŒ“ê¸€ì„ ì¶”ê°€í•˜ì„¸ìš”...
{{/comment}}
