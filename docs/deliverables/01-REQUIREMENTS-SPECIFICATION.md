# 요구사항 명세서 (Requirements Specification)

**프로젝트명:** REGTECH 블랙리스트 인텔리전스 플랫폼  
**버전:** 3.5.2  
**작성일:** 2026-01-15  
**문서번호:** REQ-REGTECH-2026-001

---

## 1. 개요

### 1.1 목적
본 문서는 REGTECH 블랙리스트 인텔리전스 플랫폼의 기능 및 비기능 요구사항을 정의한다.

### 1.2 범위
- IP 블랙리스트 수집, 관리, 분석 시스템
- 한국금융보안원(REGTECH) 및 OSINT 소스 연동
- FortiGate 보안 장비 연동
- Air-Gap 환경 배포 지원

### 1.3 용어 정의
| 용어 | 정의 |
|------|------|
| REGTECH | 한국금융보안원 위협 정보 포털 |
| Air-Gap | 외부 인터넷과 격리된 폐쇄망 환경 |
| OSINT | Open Source Intelligence (공개 위협 정보) |
| FortiGate | Fortinet 방화벽 장비 |

---

## 2. 기능 요구사항

### 2.1 대시보드 (FR-DASH)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-DASH-001 | 시스템 전체 통계 실시간 표시 (총 IP, 활성 블랙리스트, 신규 등록) | 필수 | 구현완료 |
| FR-DASH-002 | 시스템 상태 표시 (DB/Redis/Collector 연결 상태) | 필수 | 구현완료 |
| FR-DASH-003 | 일별 탐지 트렌드 차트 (최근 30일) | 필수 | 구현완료 |
| FR-DASH-004 | 수집 현황 및 마지막 수집 시간 표시 | 필수 | 구현완료 |

### 2.2 IP 관리 (FR-IP)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-IP-001 | 블랙리스트 IP 목록 조회 (페이지네이션, 필터링, 정렬) | 필수 | 구현완료 |
| FR-IP-002 | 블랙리스트 IP 상세 정보 조회 | 필수 | 구현완료 |
| FR-IP-003 | 수동 IP 등록 기능 | 필수 | 구현완료 |
| FR-IP-004 | IP 정보 수정 기능 | 필수 | 구현완료 |
| FR-IP-005 | IP 삭제 (소프트 삭제) 기능 | 필수 | 구현완료 |
| FR-IP-006 | IP 주소 검색 기능 | 필수 | 구현완료 |
| FR-IP-007 | 화이트리스트 관리 (CRUD) | 필수 | 구현완료 |
| FR-IP-008 | 블랙+화이트 통합 뷰 제공 | 선택 | 구현완료 |
| FR-IP-009 | Raw 데이터 내보내기 (Blob) | 선택 | 구현완료 |

### 2.3 데이터 수집 (FR-COL)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-COL-001 | REGTECH 포털 자동 수집 (매일 02:00) | 필수 | 구현완료 |
| FR-COL-002 | OSINT 소스 자동 수집 (URLHaus, ThreatFox 등) | 필수 | 구현완료 |
| FR-COL-003 | 수동 수집 트리거 기능 | 필수 | 구현완료 |
| FR-COL-004 | 수집 이력 조회 기능 | 필수 | 구현완료 |
| FR-COL-005 | 수집 통계 조회 (성공/실패) | 필수 | 구현완료 |
| FR-COL-006 | 스케줄러 상태 조회 및 재시작 | 필수 | 구현완료 |
| FR-COL-007 | 날짜 범위 지정 수집 | 선택 | 구현완료 |

### 2.4 Fortinet 연동 (FR-FORT)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-FORT-001 | FortiGate 활성 차단 IP 조회 | 필수 | 구현완료 |
| FR-FORT-002 | 장비 요청 이력 (Pull Logs) 조회 | 필수 | 구현완료 |
| FR-FORT-003 | FortiGate 형식 블록리스트 제공 | 필수 | 구현완료 |
| FR-FORT-004 | 5분 주기 자동 동기화 | 필수 | 구현완료 |

### 2.5 인증정보 관리 (FR-CRED)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-CRED-001 | 소스별 인증정보 조회 (마스킹) | 필수 | 구현완료 |
| FR-CRED-002 | 인증정보 업데이트 | 필수 | 구현완료 |
| FR-CRED-003 | 자격증명 유효성 테스트 | 필수 | 구현완료 |
| FR-CRED-004 | AES-256-GCM 암호화 저장 | 필수 | 구현완료 |

### 2.6 시스템 관리 (FR-SYS)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-SYS-001 | 시스템 헬스체크 API | 필수 | 구현완료 |
| FR-SYS-002 | DB 테이블 목록 조회 | 선택 | 구현완료 |
| FR-SYS-003 | 스키마 정보 조회 | 선택 | 구현완료 |
| FR-SYS-004 | Prometheus 메트릭 제공 | 선택 | 구현완료 |

---

## 3. 비기능 요구사항

### 3.1 성능 (NFR-PERF)

| ID | 요구사항 | 목표값 | 상태 |
|----|----------|--------|------|
| NFR-PERF-001 | API 응답 시간 | < 500ms (p95) | 충족 |
| NFR-PERF-002 | 동시 접속 사용자 | 100명 이상 | 충족 |
| NFR-PERF-003 | 대시보드 로딩 시간 | < 3초 | 충족 |
| NFR-PERF-004 | IP 목록 조회 (10,000건) | < 1초 | 충족 |

### 3.2 보안 (NFR-SEC)

| ID | 요구사항 | 상태 |
|----|----------|------|
| NFR-SEC-001 | 인증정보 AES-256 암호화 | 구현완료 |
| NFR-SEC-002 | CSRF 보호 적용 | 구현완료 |
| NFR-SEC-003 | Rate Limiting (Redis 기반) | 구현완료 |
| NFR-SEC-004 | Security Headers (HSTS, X-Frame-Options) | 구현완료 |
| NFR-SEC-005 | SQL Injection 방지 (Parameterized Query) | 구현완료 |

### 3.3 가용성 (NFR-AVAIL)

| ID | 요구사항 | 목표값 | 상태 |
|----|----------|--------|------|
| NFR-AVAIL-001 | 시스템 가용성 | 99.9% | 충족 |
| NFR-AVAIL-002 | 장애 복구 시간 (RTO) | < 30분 | 충족 |
| NFR-AVAIL-003 | 데이터 손실 허용 (RPO) | < 1시간 | 충족 |

### 3.4 배포 (NFR-DEPLOY)

| ID | 요구사항 | 상태 |
|----|----------|------|
| NFR-DEPLOY-001 | Air-Gap (폐쇄망) 배포 지원 | 구현완료 |
| NFR-DEPLOY-002 | Docker 컨테이너 기반 배포 | 구현완료 |
| NFR-DEPLOY-003 | Git LFS 기반 이미지 배포 | 구현완료 |
| NFR-DEPLOY-004 | 무중단 업데이트 | 구현완료 |

### 3.5 유지보수 (NFR-MAINT)

| ID | 요구사항 | 상태 |
|----|----------|------|
| NFR-MAINT-001 | 로그 수집 및 조회 | 구현완료 |
| NFR-MAINT-002 | 핫 백업 지원 | 구현완료 |
| NFR-MAINT-003 | 롤백 기능 | 구현완료 |

---

## 4. 요구사항 추적 매트릭스

### 4.1 기능 요구사항 현황

| 구분 | 필수 | 선택 | 합계 |
|------|------|------|------|
| 구현완료 | 28 | 5 | 33 |
| 미구현 | 0 | 0 | 0 |
| **합계** | **28** | **5** | **33** |

### 4.2 비기능 요구사항 현황

| 구분 | 충족 | 미충족 | 합계 |
|------|------|--------|------|
| 성능 | 4 | 0 | 4 |
| 보안 | 5 | 0 | 5 |
| 가용성 | 3 | 0 | 3 |
| 배포 | 4 | 0 | 4 |
| 유지보수 | 3 | 0 | 3 |
| **합계** | **19** | **0** | **19** |

---

## 5. 변경 이력

| 버전 | 일자 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-15 | Sisyphus | 초기 작성 |

